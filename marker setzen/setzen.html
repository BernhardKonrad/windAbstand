<!DOCTYPE html>
<html>
  <head>
    <title>Google Maps JavaScript API v3 Example: Event Closure</title>
    <meta name="viewport" content="initial-scale=0.5, user-scalable=no">
    <meta charset="utf-8">
    <link href="https://developers.google.com/maps/documentation/javascript/examples/default.css" rel="stylesheet">
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

    <script src="../NV/landkreise.js"></script>
    <script src="../NV/ortschaften.js"></script>
    <script src="../NV/standorte.js"></script>
    <script src="../NV/helperfuns.js"></script>

	<script>
	function writeVal(val) {
		document.getElementById("myResults").innerHTML += val;
		document.getElementById("myResults").innerHTML += '<br>'
		}
    </script>

    <script>
      function initialize() {
        var mapOptions = {
          zoom: 11,
          center: new google.maps.LatLng(49.92779802667553,10.026483535766602),
          mapTypeId: google.maps.MapTypeId.HYBRID
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);

        google.maps.event.addListener(map, 'click', function(e) {
          placeMarker(e.latLng, map);
        });

var markersStandorte = getMarkersStandorte(Standorte)
for (var i=0, length=markersStandorte.length; i<length; i++){
	markersStandorte[i].setMap(map);
}

var LKAschaffenburgL = getPolygon(LKAschaffenburg)
var LKBadKissingenL = getPolygon(LKBadKissingen)
var LKHassbergeL = getPolygon(LKHassberge)
var LKKitzingenL = getPolygon(LKKitzingen)
var LKMainSpessartL = getPolygon(LKMainSpessart)
var LKMiltenbergL = getPolygon(LKMiltenberg)
var LKRhoenGrabfeldL = getPolygon(LKRhoenGrabfeld)
var LKSchweinfurtL = getPolygon(LKSchweinfurt)
var LKWuerzburgL = getPolygon(LKWuerzburg)

	LKAschaffenburgL.setMap(map);
	LKBadKissingenL.setMap(map);
	LKHassbergeL.setMap(map);
	LKKitzingenL.setMap(map);
	LKMainSpessartL.setMap(map);
	LKMiltenbergL.setMap(map);
	LKRhoenGrabfeldL.setMap(map);
	LKSchweinfurtL.setMap(map);
	LKWuerzburgL.setMap(map);

/*
 for (var i=0, length=markersRhoenGrabfeldR.length; i<length; i++){
	markersRhoenGrabfeldR[i].setMap(map);
 }
*/

     function placeMarker(position, map) {
        var marker = new google.maps.Marker({
          position: position,
          map: map,
		  draggable: true
        });
        document.getElementById("myResults").innerHTML += position.lat()
        document.getElementById("myResults").innerHTML += ','
		document.getElementById("myResults").innerHTML += position.lng()
        document.getElementById("myResults").innerHTML += '<br>'
      }
}
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

  </head>
  <body>
	<div id="map-canvas" style="height:800px;width:1200px"></div>
	<form>
	<input type="text" id="Ort"/>	<input type="button" value="Ortsname" onclick="writeVal(document.getElementById('Ort').value)"/>
	</form>
    <div id="myResults"></div>
  </body>
</html>
